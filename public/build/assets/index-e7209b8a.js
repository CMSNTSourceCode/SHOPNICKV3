import{r as B,c as I,a as _,b as o,g as f,d as m,w as y,u as p,h as r,F as l,j as u,t as s,f as i,l as L,A as F}from"./chunk-6b34d741.js";import{u as G}from"./chunk-8dacd294.js";import{h as S,a as K}from"./chunk-12ee37c2.js";import"./chunk-e47d8634.js";const R={class:"overflow-auto"},j={class:"mb-5 flex flex-col gap-5 md:flex-row md:items-center"},q={class:"ltr:ml-auto rtl:mr-auto flex gap-x-2"},E=f("i",{class:"fas fa-search"},null,-1),O=["innerHTML"],U={__name:"Index",setup(J){const c=B(""),b=[{title:"ID",dataIndex:"id",sorter:!0},{title:$__t("Mã Rút"),dataIndex:"code"},{title:$__t("Trò Chơi"),dataIndex:"name"},{title:$__t("Số Lượng"),dataIndex:"amount"},{title:$__t("Số Dư Cuối"),dataIndex:"after_value"},{title:$__t("Trạng Thái"),dataIndex:"status"},{title:$__t("Thời Gian"),dataIndex:"created_at",sorter:!0},{title:$__t("Cập Nhật"),dataIndex:"updated_at",sorter:!0},{title:$__t("Ghi Chú"),dataIndex:"admin_note"}],C=t=>K.get("/api/withdraws",{params:{search:c.value,...t}}),{data:k,current:w,totalPage:$,loading:g,pageSize:D,run:T,refresh:N}=G(C,{formatResult:t=>{const{data:e,meta:a}=t.data.data;return{data:e??[],totalPage:a.total_rows??0}},defaultParams:[{sort_by:"id",sort_type:"desc",limit:10}],pagination:{currentKey:"page",pageSizeKey:"limit"}}),x=(t,e=null)=>{if(t===null)return"";const a=S(t,S.ISO_8601);return a.isValid()?e?a.format(e):a.format("HH:mm:ss - DD/MM/YYYY"):""},M=t=>$formatStatus(t),V=t=>$formatNumber(t||0),z=I(()=>{var t;return((t=k.value)==null?void 0:t.data)??[]}),H=I(()=>({page:w.value,total:$.value,limit:D.value})),P=(t,e,a)=>{T({page:t==null?void 0:t.current,limit:t.pageSize,sort_by:a.field,sort_type:a.order==="ascend"?"asc":"desc",...e})};return(t,e)=>{const a=_("a-input"),Y=_("a-button"),A=_("a-table");return r(),o("div",R,[f("div",j,[f("div",q,[m(a,{value:c.value,"onUpdate:value":e[0]||(e[0]=n=>c.value=n),placeholder:"Search..."},null,8,["value"]),m(Y,{type:"primary",loading:p(g),onClick:p(N)},{default:y(()=>[E]),_:1},8,["loading","onClick"])])]),m(A,{dataSource:z.value,columns:b,loading:p(g),pagination:H.value,size:"small",onChange:P,class:"font-medium whitespace-nowrap"},{bodyCell:y(({column:n,text:d,record:v})=>[n.dataIndex==="amount"?(r(),o(l,{key:0},[u(s(d)+" "+s(v.unit),1)],64)):i("",!0),n.dataIndex==="name"?(r(),o(l,{key:1},[u(s(d),1)],64)):i("",!0),n.dataIndex==="after_value"?(r(),o(l,{key:2},[u(s(V(d))+" "+s(v.unit),1)],64)):i("",!0),n.dataIndex==="status"?(r(),o("span",{key:3,innerHTML:M(d)},null,8,O)):i("",!0),n.dataIndex==="created_at"?(r(),o(l,{key:4},[u(s(x(d)),1)],64)):i("",!0),n.dataIndex==="updated_at"?(r(),o(l,{key:5},[u(s(x(d)),1)],64)):i("",!0)]),_:1},8,["dataSource","loading","pagination"])])}}},h=L({});h.use(F);h.component("withdraw-index",U);h.mount("#app");
